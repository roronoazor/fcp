!function(e){e.fn.navAccordion=function(n){this.each((function(){var s=e.extend({expandButtonText:"+",collapseButtonText:"-",selectedExpand:"true",selectedClass:"selected",multipleLevels:"true",buttonWidth:"20%",buttonPosition:"right",slideSpeed:"fast",parentElement:"li",childElement:"ul",headersOnly:!1,headersOnlyCheck:!1},n),i=this,t=s.multipleLevels?"":" > "+s.childElement+" > ";jQuery(i).addClass("accordion-nav"),e(t+s.parentElement,i).each((function(){(e(this).contents(s.childElement).length>0&&0==s.headersOnlyCheck||!e("> a",this).attr("href")&&1==s.headersOnlyCheck)&&(e(this).addClass("has-subnav").css("position","relative").find(">a").css("margin-"+s.buttonPosition,s.buttonWidth),e(" > "+s.childElement,this).before('<span class="accordion-btn-wrap"><span class="accordion-btn accordion-collapsed">'+s.expandButtonText+'</span><span class="accordion-btn accordion-expanded">'+s.collapseButtonText+"</span></span>"),e(".accordion-btn-wrap",this).css({width:s.buttonWidth,position:"absolute",top:0,"text-align":"center",cursor:"pointer",display:"inline-block"}).css(s.buttonPosition,0),e(".accordion-btn ",this).css({display:"inline-block",width:"100%"}),e(".accordion-expanded",this).css("display","none")),e("> a",this).attr("href")&&!s.headersOnly||e(this).addClass("accordion-header-only").find(".accordion-btn-wrap").css({width:"100%","text-align":s.buttonPosition}).find(".accordion-btn ").css({width:s.buttonWidth,"text-align":"center"})}));var c,a,l,o,d=e(s.parentElement+"."+s.selectedClass+" > .accordion-btn-wrap",i),r=(c=function(){h(),p()},a=250,function(){var e=this,n=arguments,s=function(){o=null,l||c.apply(e,n)},i=l&&!o;clearTimeout(o),o=setTimeout(s,a),i&&c.apply(e,n)});function p(){s.selectedExpand&&(s.headersOnlyCheck?e(s.parentElement+"."+s.selectedClass+" > "+s.childElement,i).css("display","block"):(d.find(".accordion-expanded").css("display","inline-block"),d.find(".accordion-collapsed").css("display","none"),d.addClass("accordion-active").next(s.childElement).css("display","block")))}function h(){e(".accordion-btn",i).each((function(){e(s.parentElement+".has-subnav > "+s.childElement,i).css("display","block");var n=e(this).closest(s.parentElement),t=e("> a",n).innerHeight();e(this).css({"line-height":t+"px",height:t}),e(s.parentElement+(s.headersOnlyCheck?" ":".has-subnav > ")+s.childElement,i).css("display","none"),e(".accordion-expanded").css("display","none"),e(".accordion-collapsed").css("display","inline-block")}))}e(window).on("resize",r),h(),p(),e(i).on("click",".accordion-btn-wrap",(function(n){var i,t,c,a;n.preventDefault(),t=e(i=this).next(s.childElement),c=e(".accordion-expanded",i),a=e(".accordion-collapsed",i),t.is(":visible")?(t.slideUp(s.slideSpeed),e(i).removeClass("accordion-active"),c.css("display","none"),a.css("display","inline-block")):(e(i).closest(s.childElement).find(".accordion-active").removeClass("accordion-active").next(s.childElement).slideUp(s.slideSpeed).prev().find(".accordion-expanded").css("display","none").parent().find(".accordion-collapsed").css("display","inline-block"),e(i).addClass("accordion-active"),t.slideToggle(s.slideSpeed),c.css("display","inline-block"),a.css("display","none"))}))}))}}(jQuery);